<!DOCTYPE html>  <html> <head>   <title>rsvp.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> <script type="text/javascript">   if (window.location.hostname == '6a68.net') {         var _gaq = _gaq || [];       _gaq.push(['_setAccount', 'UA-32602307-1']);       _gaq.push(['_trackPageview']);        (function() {         var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;         ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';         var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);       })();     }  </script> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="code-equals-data-equals-code.html">                 code-equals-data-equals-code.js               </a>                                           <a class="source" href="frontend-architecture-patterns.html">                 frontend-architecture-patterns.js               </a>                                           <a class="source" href="functional-programming.html">                 functional-programming.js               </a>                                           <a class="source" href="index.html">                 index.js               </a>                                           <a class="source" href="interview-problems-dependency-manager.html">                 interview-problems-dependency-manager.js               </a>                                           <a class="source" href="meebo-jquery.html">                 meebo-jquery.js               </a>                                           <a class="source" href="reentrant-exceptions.html">                 reentrant-exceptions.js               </a>                                           <a class="source" href="rsvp.html">                 rsvp.js               </a>                                           <a class="source" href="theres-a-bluebird-in-my-heart.html">                 theres-a-bluebird-in-my-heart.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <h1>rsvp: decentralized consumer-focused asynchronous messaging, beyond email</h1>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>I originally thought of ideas around this about 4 years ago. Here's some recent thoughts.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Fri 8 June 2012, transcribed from handwritten notes</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="s2">&quot;So. Instead of pre-www, messages as non-addressable &amp; ephemeral, make it</span>
<span class="s2">addressable, immutable, and shareable as links instead of fwds.</span>

<span class="s2">Reply: it&#39;s a URL with a pointer to the parent URL.</span>

<span class="s2">The UI just converts URLs into &#39;email threads.&#39;</span>

<span class="s2">So, you have a bunch of hashes (SHA, git style), and you also have an aggregate</span>
<span class="s2">view by created time, which is identical (? or is it) to received time.</span>

<span class="s2">- Suppose you have 2 domains hosting http-mail.</span>

<span class="s2">- How does foo@domainA &#39;send&#39; something to bar@domainB?</span>

<span class="s2">--&gt; does every person have a copy of data, or a reference to data?</span>

<span class="s2">    --&gt; reference: orig sender can delete it.</span>
<span class="s2">        but orig could thus be lost</span>
<span class="s2">        does that orphan a msg? hmm.</span>

<span class="s2">    --&gt; for any kind of performance, we&#39;ll have to cache views. so, it has to be</span>
<span class="s2">        a bunch of redundant copies all over the place. emails aren&#39;t unsendable</span>
<span class="s2">        after you send them.</span>

<span class="s2">if hashes are globally unique to a domain, then they are copied around.</span>

<span class="s2">OK, what next?</span>

<span class="s2">addressable means easy to build an API. means easy to build dev community. </span>
<span class="s2">(remember, IMAP is hell on earth to work with. so many complaints about lack</span>
<span class="s2">of a GMail API. If that were easy, I wouldn&#39;t probably need to write this.)</span>

<span class="s2">------</span>

<span class="s2">Back to the start.</span>

<span class="s2">- on the server: simplicity, addressability.</span>
<span class="s2">  - create a message via simple POST w/OAuth (or other decentralized identity)</span>
<span class="s2">- on top of this: simplicity in the UI.</span>
<span class="s2">  - public vs private</span>
<span class="s2">    - explicit viewer list for each msg</span>
<span class="s2">    - each msg has 0 or 1 parents</span>
<span class="s2">      - this maps neatly to forwarding mail</span>
<span class="s2">    --&gt; what about BCC?</span>
<span class="s2">    --&gt; so you need public/private msg, and public/private recipient list.</span>
<span class="s2">    - not recipient. it&#39;s &#39;list of oauth tokens able to retrieve this URI&#39;</span>
<span class="s2">  - so your existing email can work, or your X acct with an oauth token to</span>
<span class="s2">    prove your identity.</span>
<span class="s2">  - so that means, when you authenticate with token X, you see the &#39;inbox&#39;</span>
<span class="s2">    or &#39;history&#39;/&#39;timeline&#39; for every msg specifically addressed to that</span>
<span class="s2">    id (whether twitter handle, FB id, or email addy)</span>
<span class="s2">  --&gt; if you&#39;re using oauth from the start, it&#39;s easy to build a whitelist</span>
<span class="s2">      of &#39;ppl I know&#39;.</span>
<span class="s2">  --&gt; wouldn&#39;t it be easy to add twitter, and pull certain twitter handles</span>
<span class="s2">      into your whitelist?</span>
<span class="s2">      OR, whitelist everyone you follow, then filter different people to</span>
<span class="s2">      different places (folders/tabs/pages/lists/subsets)</span>

<span class="s2">------</span>

<span class="s2">Use ifttt &amp; other services, eg, to sms/email me when I get messages like X.</span>

<span class="s2">------</span>

<span class="s2">All you need is, what, a simple 0MQ pubsub setup to route msgs, then a</span>
<span class="s2">NoSQL structure to store them.</span>

<span class="s2">------</span>

<span class="s2">Simplicity from start to finish.</span>

<span class="s2">  Simple product, simple API, simple architecture.</span>

<span class="s2">  Simple biz model: free to host your own, $N/month for a real acct. M day trial.</span>
<span class="s2">    (for some values of N and M)</span>

<span class="s2">(Are there JS bindings for 0MQ?)</span>

<span class="s2">------</span>

<span class="s2">How can you interoperate with email?</span>

<span class="s2">  - If user has email token, &#39;send&#39; msgs to contacts</span>
<span class="s2">  - If user has twitter token, tweet public msgs, DM private msgs.</span>
<span class="s2">    (Can you DM 2 ppl at once?)&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>An earlier pass, from late March 2012</p>

<h1>RSVP</h1>

<h2>an open-source effort to redefine the ubiquitous personal letter-writing experience that is email</h2>

<p>I've been thinking about how we communicate over the internet, and how email is the backbone of all that, for a few years now.</p>

<p>Most email clients offer the same basic interface: a list of message titles, a list of 'folders' in which mail has been filed, and possibly a small window to view messages in the list without leaving the main interface.</p>

<p>Most (all?) email clients offer a compositional interface that is: a white square and, at best, Arial with a goofy row of buttons to apply clunky formatting along the lines of a typical word processing program. I think we can do better.</p>

<p>The letter-writing experience is beautiful. You can sketch in the margins, you can scribble things out, there is the feel of paper and the very subtle smell of ink. Typing in a box, even a Rich Text Editor box, is a model of this, but I think we can do better.</p>

<p>The whole page should be the editing interface. One big white sheet. You should be able to do anything in that sheet that you can do with computers, anything you might use to communicate with somebody.</p>

<p>But the core, basic, innermost feature is: I send you a text message which is private. You respond, perhaps quoting my message. And on the conversation goes.</p>

<p>So the first, basic, simplest question to ask is: how can we make the experience of reading and writing email not just simple, fast, and easy (the expediency factor), but create an interface that inspires measured, lengthy thought? How can we show you your messages in such a way that you sometimes linger over them, just because you adore how they look?</p>

<p>Consider this the preamble to a manifesto, and the preface to a long body of work, work that's still unfolding.</p>

<p>I'm going to open source all my sketches, ideas, all the producty stuff that usually is trapped on paper or in my head.</p>

<p>When I've reached some simple conclusion, I'll write code and test out whether theory is supported by experimental data.</p>

<p>Some ideas, most of which reach far beyond the first simple version:</p>

<ul>
<li>beautiful, large, typefaces. for starters, just one.
<ul><li>for starters, just send and display plain-text mail. deal with html formatting later. this eliminates lots of html problems.</li></ul></li>
<li>good spacing between lines, good line length, and related typographica
<ul><li>in a beautiful future, authors could manually adjust kerning, add swashes, control line-length, letter spacing, the works.</li></ul></li>
<li>one interface for both reading and writing
<ul><li>that means, one white sheet on the page. click into it, edit it, send it. to reply to a message, treat it like a shared word doc: insert a few newlines at top or bottom, then edit.</li></ul></li>
<li>put sender/addressee information in the background, without losing clarity
<ul><li>it's crucially important to know who has seen or will see a message. but...do you need to see the envelope the whole time you're writing the letter? no.</li>
<li>simply doing a pushdown or foldout JS effect will work</li></ul></li>
<li>email should be addressable. give it a hash with a unique URL. 
<ul><li>then you can bookmark important messages, or create pages with groups of bookmarked messages, or use emails as todos or (if public) shared documents/blog.</li></ul></li>
<li>should be possible to annotate messages. like, add some notes to the message, so you know what it means.
<ul><li>if you can create a page with a title, description, and links to emails, then you've got a way to create a todo list that points to other messages.</li>
<li>you could do this and send it to yourself as an email. like, it's recursive and beautiful. </li></ul></li>
<li>should be possible to organize messages using folders/labels/text documents (some kind of higher-order document)
<ul><li>folders/labels could just be aliases to hashes: a special meta-message that links to all messages with that label. <em>or</em>, /username/labels/label-name is the URL of the label.</li></ul></li>
<li>should be possible to tag/label messages...but also should always have an infinite flow of received and sent messages in one simple view.
<ul><li>the infinite flow means that you can always get an "inbox view", but we need to make it useful for scanning.</li>
<li>probably don't want to see spam in the infinite flow.</li></ul></li>
<li>speaking of which...to keep spammers out: just require a mobile phone number and a couple of captchas. not to text the phone, but actually call it.
<ul><li>but filtering spam is a huge thing. let's just say...we need to look into it.</li>
<li>what if your email address was an unmemorable, long, SHA hash? It'd be very hard for spammers to guess. is guessing really the problem? I don't think so.</li>
<li>in the meantime...look into open-source solutions, I guess.</li>
<li>I really wish we could block spam without looking through users' email, even automatically. because youll look at private messages to debug the system, won't you? isn't there a simpler better way?</li></ul></li>
<li>what about storage limits and attachments?</li>
<li>I really think users should just pay for an account, then pay for storage. That will eliminate spammers signing up for accounts, although accounts could still get compromised.
<ul><li>the alternative, showing ads, completely destroys the beautiful, bookish, annoyance-free experience we're trying to create. who wants to linger on a page with flash ads?</li></ul></li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                </tbody>     </table>   </div> <div id="disqus_thread" style="max-width: 500px"></div>         <script>             var disqus_shortname = '6a68';              (function() {                 var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;                 dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';                 (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);             })();         </script>         <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>         <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a> </body> </html> 